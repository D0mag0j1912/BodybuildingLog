{"version":3,"file":"src_app_modules_training_training_module_ts.js","mappings":"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K,MAAf,CAArD;AACA,gBAAM,KAAI,CAAC/B,MAAL,CAAYqF,QAAZ,CAAqB,CAAC,wBAAD,EAA2B,KAAI,CAAC7E,QAAL,CAAc6F,GAAzC,CAArB,CAAN;AACH,SARL;;AAAA;AAAA;AAAA;AAAA;AADiB;AAUpB;;AA5C6B;;;QARzB/H,2FAAkBA;;QAPlBhB,2DAAcA;;QAAUC,mDAAMA;;;;;UAmClC6U,gDAAKA;;;AApBGU,qBAAqB,sDANjC9V,wDAAS,CAAC;AACPmK,UAAQ,EAAE,kBADH;AAEPC,YAAAA,qEAFO;AAIPC,iBAAe,EAAEvK,yEAJV;;AAAA,CAAD,CAMwB,GAArBgW,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;AChBsC;AACX;AACiB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,sEAAY;AACd,aAAa,4DAAM;AACnB,eAAe,mEAAS;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;AC1CmD;AACX;AACiB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,sEAAY;AACd,aAAa,4DAAM;AACnB,eAAe,mEAAS;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACpE0C;AACI;AACN;AACiB;AACN;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACe;AACf,EAAE,sEAAY;AACd;AACA,+BAA+B,mEAAS;AACxC,iCAAiC,mEAAS;AAC1C,+BAA+B,mEAAS;AACxC,6BAA6B,mEAAS;AACtC,+BAA+B,mEAAS;AACxC,mCAAmC,mEAAS;AAC5C,mCAAmC,mEAAS,wBAAwB;;AAEpE,aAAa,4DAAM;AACnB,yCAAyC,+DAAS,oCAAoC;;AAEtF,qCAAqC,6DAAO,qDAAqD;;AAEjG;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEO;;;;;;;;;;;;;;;;;ACtHwF;AAC/C;AACS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,sEAAY;AACd,uBAAuB,gEAAU;AACjC,wBAAwB,gEAAU;AAClC,iDAAiD,yFAA+B;AAChF,mDAAmD,yFAA+B,mBAAmB;AACrG;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACjDwC;AACoC;AACnB,CAAC;AAC1D;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ,cAAc,0BAA0B;AACxC,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGe;AACf,EAAE,sEAAY;AACd,iBAAiB,4DAAM;AACvB,kBAAkB,4DAAM;AACxB;AACA,4BAA4B,8EAAwB;AACpD,4DAA4D;AAC5D;;AAEA;AACA,uDAAuD;;AAEvD;AACA;;;;;;;;;;;;;;;;ACtFwC;AACiB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,sEAAY;AACd,aAAa,4DAAM;AACnB;AACA;AACA;;;;;;;;;;;;;;;;AC7BgD;AACS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,sEAAY;AACd,2BAA2B,gEAAU;AACrC,4BAA4B,gEAAU;AACtC;AACA;;;;;;;;;;;;;;;;ACxCwC;AACiB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,sEAAY;AACd,iBAAiB,4DAAM;AACvB,kBAAkB,4DAAM;AACxB;AACA;;;;;;;;;;;;;;;;ACnCkD;AACO;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,QAAQ,iEAAiE;AACpF,WAAW,eAAe;AAC1B,aAAa,SAAS;AACtB,YAAY,WAAW;AACvB,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACe;AACf,EAAE,sEAAY;AACd,4BAA4B,iEAAW;AACvC,6BAA6B,iEAAW;AACxC;AACA;;;;;;;;;;;;;;;;;AC/CiF;AACxB;AACN;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB,YAAY,WAAW;AACvB,YAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;;AAEe;AACf,EAAE,sEAAY;AACd;AACA,gEAAgE,mEAAS;;AAEzE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,gDAAgD;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAE;AACxE,sBAAsB,EAAE,sBAAsB,EAAE,wBAAwB,EAAE;AAC1E,gCAAgC,EAAE,UAAU,EAAE;;AAE9C;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC,EAAE,SAAS,+BAA+B,OAAO,EAAE,SAAS,+BAA+B;AAC9H,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA,4DAA4D;;AAE5D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA8C;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,mEAAkB,aAAa,qEAAoB;AACpE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,mEAAkB,aAAa,qEAAoB;AAC5E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;ACjSmD;AACT;AACe;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,EAAE,sEAAY;AACd,eAAe,mEAAS;AACxB,SAAS,6DAAO;AAChB;;;;;;;;;;;;;;;;AC9B2C;AACA;AACpC,2CAA2C,mDAAK;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,mDAAU;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/constants/shared/input-maxlength.const.ts","./src/app/directives/training-item/training-item.directive.ts","./src/app/handlers/new-training.handler.ts","./src/app/helpers/months.helper.ts","./src/app/helpers/training/past-trainings/map-stream-data.helper.ts","./src/app/helpers/training/show-by-day.helper.ts","./src/app/modules/training/training-routing.module.ts","./src/app/modules/training/training.module.ts","./src/app/services/api/training/past-trainings.service.ts","./src/app/services/store/training/past-trainings-store.service.ts","./src/app/views/training/new-training/new-training.component.ts","./src/app/views/training/new-training/reorder-exercises/reorder-exercises.component.ts","./src/app/views/training/past-trainings/past-trainings-filters/past-trainings-filters.component.ts","./src/app/views/training/past-trainings/past-trainings.component.ts","./src/app/views/training/past-trainings/show-by-day/show-by-day.component.ts","./src/app/views/training/past-trainings/training-item/training-item-actions/training-item-actions.component.ts","./src/app/views/training/past-trainings/training-item/training-item.component.ts","./node_modules/date-fns/esm/addDays/index.js","./node_modules/date-fns/esm/addMonths/index.js","./node_modules/date-fns/esm/add/index.js","./node_modules/date-fns/esm/constants/index.js","./node_modules/date-fns/esm/differenceInCalendarDays/index.js","./node_modules/date-fns/esm/differenceInDays/index.js","./node_modules/date-fns/esm/getMonth/index.js","./node_modules/date-fns/esm/isSameDay/index.js","./node_modules/date-fns/esm/isSameMonth/index.js","./node_modules/date-fns/esm/isSameWeek/index.js","./node_modules/date-fns/esm/parseISO/index.js","./node_modules/date-fns/esm/subDays/index.js","./node_modules/rxjs/_esm2015/internal/operators/debounceTime.js"],"sourcesContent":["\r\nexport const INPUT_MAX_LENGTH = 50;\r\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n@Directive({ selector: 'bl-training-item' })\r\nexport class TrainingItemDirective {\r\n\r\n    constructor(\r\n        readonly elementRef: ElementRef<HTMLElement>,\r\n        readonly renderer2: Renderer2,\r\n    ) {\r\n        renderer2.addClass(elementRef.nativeElement as HTMLElement, 'bl-training-item');\r\n    }\r\n}\r\n","\r\nexport function fillBodyweight(\r\n    initialBodyweight: number,\r\n    editBodyweight: number,\r\n): string {\r\n    if (initialBodyweight) {\r\n        if (!editBodyweight) {\r\n            return initialBodyweight.toString();\r\n        }\r\n        else {\r\n            return editBodyweight.toString();\r\n        }\r\n    }\r\n    else {\r\n        if (!editBodyweight) {\r\n            return null;\r\n        }\r\n        else {\r\n            return editBodyweight.toString();\r\n        }\r\n    }\r\n}\r\n","\r\nexport const ALL_MONTHS = [\r\n    'january',\r\n    'february',\r\n    'march',\r\n    'april',\r\n    'may',\r\n    'june',\r\n    'july',\r\n    'august',\r\n    'september',\r\n    'october',\r\n    'november',\r\n    'december',\r\n];\r\n","import { Observable, of } from 'rxjs';\r\nimport { catchError, map, startWith } from 'rxjs/operators';\r\nimport { StreamData } from '../../../models/common/interfaces/common.model';\r\n\r\nexport const mapStreamData = <T>() => (source: Observable<StreamData<T>>) => source\r\n    .pipe(\r\n        map((data: StreamData<T>) => ({\r\n            IsLoading: false,\r\n            Value: data.Value,\r\n            IsError: false,\r\n        })),\r\n        catchError(_ => of({\r\n            IsLoading: false,\r\n            IsError: true,\r\n        })),\r\n        startWith({\r\n            IsLoading: true,\r\n            IsError: false,\r\n        }),\r\n    );\r\n","import { startOfWeek, differenceInDays, addDays } from 'date-fns';\r\n\r\nexport function calculateLastWeekDay(startingDate: Date): Date {\r\n    const startOfCurrentWeek = startOfWeek(startingDate, { weekStartsOn: 1 });\r\n    const currentWeekDayIndex = differenceInDays(startingDate, startOfCurrentWeek);\r\n    const startOfLastWeek = startOfWeek(new Date(), { weekStartsOn: 1 });\r\n    return addDays(startOfLastWeek, currentWeekDayIndex);\r\n}\r\n\r\nexport function calculateFirstWeekDay(\r\n    earliestTrainingDate: string,\r\n    startingDate: Date,\r\n): Date {\r\n    const startOfCurrentWeek = startOfWeek(startingDate, { weekStartsOn: 1 });\r\n    const currentWeekDayIndex = differenceInDays(startingDate, startOfCurrentWeek);\r\n    const startOfFirstWeek = startOfWeek(new Date(earliestTrainingDate), { weekStartsOn: 1 });\r\n    return addDays(startOfFirstWeek, currentWeekDayIndex);\r\n}\r\n\r\nexport function getCurrentDayIndex(date: Date): number {\r\n    const startOfWeekDate = startOfWeek(date, { weekStartsOn: 1 });\r\n    const currentDayIndex = differenceInDays(date, startOfWeekDate);\r\n    return currentDayIndex;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NewTrainingComponent } from '../../views/training/new-training/new-training.component';\r\nimport { PastTrainingsComponent } from '../../views/training/past-trainings/past-trainings.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: 'new-training',\r\n        component: NewTrainingComponent,\r\n    },\r\n    {\r\n        path: 'new-training/:id',\r\n        component: NewTrainingComponent,\r\n    },\r\n    {\r\n        path: 'past-trainings',\r\n        component: PastTrainingsComponent,\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule],\r\n})\r\nexport class TrainingRoutingModule {}\r\n","import { CommonModule, DatePipe } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AutofocusModule } from '../../directives/autofocus/autofocus.module';\r\nimport { SkeletonLoaderModule } from '../../directives/skeleton-loader/skeleton-loader.module';\r\nimport { TrainingItemDirective } from '../../directives/training-item/training-item.directive';\r\nimport { PipesModule } from '../../pipes/pipes.module';\r\nimport { ShowAllExercisesModule } from '../../pipes/training/past-trainings/show-all-exercises/show-all-exercises.module';\r\nimport { NewTrainingComponent } from '../../views/training/new-training/new-training.component';\r\nimport { ReorderExercisesComponent } from '../../views/training/new-training/reorder-exercises/reorder-exercises.component';\r\nimport { PastTrainingsFiltersComponent } from '../../views/training/past-trainings/past-trainings-filters/past-trainings-filters.component';\r\nimport { PastTrainingsComponent } from '../../views/training/past-trainings/past-trainings.component';\r\nimport { ShowByDayComponent } from '../../views/training/past-trainings/show-by-day/show-by-day.component';\r\nimport { TrainingItemActionsComponent } from '../../views/training/past-trainings/training-item/training-item-actions/training-item-actions.component';\r\nimport { TrainingItemComponent } from '../../views/training/past-trainings/training-item/training-item.component';\r\nimport { SharedModule } from '../shared.module';\r\nimport { TrainingRoutingModule } from './training-routing.module';\r\n\r\nconst DIRECTIVES = [TrainingItemDirective];\r\n\r\nconst COMPONENTS = [\r\n    NewTrainingComponent,\r\n    PastTrainingsComponent,\r\n    TrainingItemComponent,\r\n    TrainingItemActionsComponent,\r\n    PastTrainingsFiltersComponent,\r\n    ShowByDayComponent,\r\n    ReorderExercisesComponent,\r\n];\r\n\r\nconst EXTERNAL_IMPORTS = [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TranslateModule,\r\n    IonicModule,\r\n];\r\n\r\nconst IMPORTS = [\r\n    TrainingRoutingModule,\r\n    SharedModule,\r\n    PipesModule,\r\n    AutofocusModule,\r\n    SkeletonLoaderModule,\r\n];\r\n\r\nconst PIPES_MODULES = [ShowAllExercisesModule];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ...COMPONENTS,\r\n        ...DIRECTIVES,\r\n    ],\r\n    imports: [\r\n        ...EXTERNAL_IMPORTS,\r\n        ...IMPORTS,\r\n        ...PIPES_MODULES,\r\n    ],\r\n    exports: [ ...COMPONENTS ],\r\n    entryComponents: [ReorderExercisesComponent],\r\n    providers: [DatePipe],\r\n})\r\nexport class TrainingModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { environment } from '../../../../environments/environment';\r\nimport { mapDateInterval } from '../../../helpers/training/past-trainings/map-past-trainings-dates.helper';\r\nimport { StreamData } from '../../../models/common/interfaces/common.model';\r\nimport { Paginator } from '../../../models/common/interfaces/paginator.model';\r\nimport { Training } from '../../../models/training/new-training/training.model';\r\nimport { PastTrainings, PeriodFilterType } from '../../../models/training/past-trainings/past-trainings.model';\r\n\r\nconst ROUTE_PREFIX = '/training/';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PastTrainingsService {\r\n\r\n    constructor(\r\n        private readonly _http: HttpClient,\r\n    ) { }\r\n\r\n    searchPastTrainings(\r\n        searchValue: string,\r\n        pageSize: number,\r\n        currentPage: number,\r\n    ): Observable<StreamData<Paginator<PastTrainings>>> {\r\n        const params = `?searchValue=${searchValue}&size=${pageSize.toString()}&page=${currentPage.toString()}`;\r\n        return this._http.get<StreamData<Paginator<PastTrainings>>>(`${environment.BACKEND}${ROUTE_PREFIX}search_trainings${params}`)\r\n            .pipe(\r\n                map((response: StreamData<Paginator<PastTrainings>>) => mapDateInterval(response)),\r\n            );\r\n    }\r\n\r\n    getPastTrainings(\r\n        currentDate: Date,\r\n        filterType: PeriodFilterType,\r\n    ): Observable<StreamData<Paginator<PastTrainings>>> {\r\n        const params = `?currentDate=${currentDate}&filterType=${filterType}`;\r\n        return this._http.get<StreamData<Paginator<PastTrainings>>>(`${environment.BACKEND}${ROUTE_PREFIX}past_trainings${params}`)\r\n            .pipe(\r\n                map((response: StreamData<Paginator<PastTrainings>>) => mapDateInterval(response)),\r\n            );\r\n    }\r\n\r\n    getPastTraining(id: string): Observable<StreamData<Training>> {\r\n        return this._http.get<StreamData<Training>>(`${environment.BACKEND}${ROUTE_PREFIX}past_trainings/${id}`);\r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PastTrainingsStoreService {\r\n\r\n    private readonly _isSearch$$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n    readonly isSearch$: Observable<boolean> = this._isSearch$$.asObservable();\r\n\r\n    emitSearch(value?: string): void {\r\n        this._isSearch$$.next(!!value);\r\n    }\r\n}\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, QueryList, ViewChild, ViewChildren } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { IonContent, ModalController } from '@ionic/angular';\r\nimport { OverlayEventDetail } from '@ionic/core';\r\nimport { format, parseISO } from 'date-fns';\r\nimport { from, Observable, of } from 'rxjs';\r\nimport { delay, filter, finalize, map, switchMap, take, takeUntil, tap } from 'rxjs/operators';\r\nimport { SharedStoreService } from '../../../services/store/shared/shared-store.service';\r\nimport { PastTrainingsService } from '../../../services/api/training/past-trainings.service';\r\nimport * as NewTrainingHandler from '../../../handlers/new-training.handler';\r\nimport { mapStreamData } from '../../../helpers/training/past-trainings/map-stream-data.helper';\r\nimport { LocalStorageItems, StreamData } from '../../../models/common/interfaces/common.model';\r\nimport { DialogRoles } from '../../../models/common/types/modal-roles.type';\r\nimport { Exercise } from '../../../models/training/exercise.model';\r\nimport { EditNewTrainingData } from '../../../models/training/new-training/edit-training.model';\r\nimport { Training } from '../../../models/training/new-training/training.model';\r\nimport { SingleExercise } from '../../../models/training/shared/single-exercise.model';\r\nimport { UnsubscribeService } from '../../../services/shared/unsubscribe.service';\r\nimport * as CommonValidators from '../../../validators/shared/common.validators';\r\nimport { DateTimePickerComponent } from '../../shared/datetime-picker/datetime-picker.component';\r\nimport { SingleExerciseComponent } from '../../shared/training/single-exercise/single-exercise.component';\r\nimport { TrainingStoreService } from '../../../services/store/training/training-store.service';\r\nimport { TrainingService } from '../../../services/api/training/training.service';\r\nimport { AuthStoreService } from '../../../services/store/auth/auth-store.service';\r\nimport { PastTrainingsQueryParams } from '../../../models/training/past-trainings/past-trainings.model';\r\nimport { EMPTY_TRAINING, EMPTY_TRAINING_EDIT, createEmptyExercise } from '../../../constants/training/new-training.const';\r\nimport { ReorderExercisesComponent } from './reorder-exercises/reorder-exercises.component';\r\n\r\ntype FormData = {\r\n    bodyweight: number;\r\n    date: Date;\r\n    exercises: SingleExercise[];\r\n};\r\n\r\n@Component({\r\n    selector: 'bl-new-training',\r\n    templateUrl: './new-training.component.html',\r\n    styleUrls: ['./new-training.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    providers: [UnsubscribeService],\r\n})\r\nexport class NewTrainingComponent implements OnDestroy {\r\n\r\n    formattedTodayDate: string;\r\n\r\n    form: FormGroup;\r\n\r\n    editData: EditNewTrainingData = EMPTY_TRAINING_EDIT;\r\n    editMode = false;\r\n\r\n    trainingStream$: Observable<StreamData<Exercise[]>> | undefined = undefined;\r\n    readonly isAuthenticated$: Observable<boolean> = this.authStoreService.isAuth$;\r\n    readonly isEditing$: Observable<boolean> = this.sharedStoreService.editingTraining$;\r\n    readonly isReorder$: Observable<boolean> = this.trainingStoreService.currentTrainingChanged$\r\n        .pipe(\r\n            map(training => {\r\n                const exercises = training.exercises;\r\n                const areAtLeastTwoExercises = exercises.length >= 2 && exercises.every(exercise => !!exercise.exerciseData.name && exercise.sets.length > 0);\r\n                return areAtLeastTwoExercises;\r\n            }),\r\n        );\r\n\r\n    @ViewChild(IonContent, { read: IonContent })\r\n    ionContent: IonContent;\r\n\r\n    @ViewChildren(SingleExerciseComponent)\r\n    singleExerciseCmps: QueryList<SingleExerciseComponent>;\r\n\r\n    constructor(\r\n        private readonly trainingStoreService: TrainingStoreService,\r\n        private readonly trainingService: TrainingService,\r\n        private readonly pastTrainingService: PastTrainingsService,\r\n        private readonly sharedStoreService: SharedStoreService,\r\n        private readonly authStoreService: AuthStoreService,\r\n        private readonly unsubscribeService: UnsubscribeService,\r\n        private readonly route: ActivatedRoute,\r\n        private readonly router: Router,\r\n        private readonly modalController: ModalController,\r\n        private readonly changeDetectorRef: ChangeDetectorRef,\r\n    ) {\r\n        this.form = new FormGroup({\r\n            bodyweight: new FormControl(null,\r\n                {\r\n                    validators: [CommonValidators.isNumber(), Validators.min(30), Validators.max(300)],\r\n                    updateOn: 'blur',\r\n                },\r\n            ),\r\n            date: new FormControl(new Date().toISOString(), [Validators.required]),\r\n            exercises: new FormControl([]),\r\n        });\r\n    }\r\n\r\n    ionViewWillEnter(): void {\r\n        let allExercisesChanged: StreamData<Exercise[]>;\r\n        this.trainingStream$ = this.route.params\r\n            .pipe(\r\n                take(1),\r\n                switchMap((params: Params) =>\r\n                    this.trainingStoreService.allExercisesChanged$\r\n                        .pipe(\r\n                            take(1),\r\n                            switchMap(value => {\r\n                                if (value) {\r\n                                    return of(value);\r\n                                }\r\n                                else {\r\n                                    return this.trainingService.getExercises();\r\n                                }\r\n                            }),\r\n                            tap(exercisesData => allExercisesChanged = exercisesData),\r\n                            map(_ => params),\r\n                        ),\r\n                ),\r\n                switchMap((params: Params) => {\r\n                    if (params['id']) {\r\n                        this.editMode = true;\r\n                        return this.pastTrainingService.getPastTraining(params['id'])\r\n                            .pipe(\r\n                                tap((response: StreamData<Training>) => {\r\n                                    this.editData = {\r\n                                        editedDate: response?.Value?.trainingDate ?? new Date(),\r\n                                        editTraining: {\r\n                                            ...response?.Value,\r\n                                            editMode: true,\r\n                                        },\r\n                                    };\r\n                                    this.trainingStoreService.updateTrainingState(this.editData.editTraining);\r\n                                }),\r\n                            );\r\n                    }\r\n                    else {\r\n                        return this.trainingStoreService.currentTrainingChanged$\r\n                            .pipe(\r\n                                take(1),\r\n                                tap(trainingState => {\r\n                                    const currentTrainingState: Training = { ...trainingState };\r\n                                    if (currentTrainingState) {\r\n                                        if (currentTrainingState.editMode && !this.editMode) {\r\n                                            this.trainingStoreService.updateTrainingState({\r\n                                                ...EMPTY_TRAINING,\r\n                                                exercises: [createEmptyExercise(allExercisesChanged.Value)],\r\n                                                userId: currentTrainingState?.userId ?? '',\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                }),\r\n                            );\r\n                    }\r\n                }),\r\n                tap(_ => this.sharedStoreService.emitEditingTraining(this.editMode)),\r\n                switchMap(_ => of(allExercisesChanged)\r\n                    .pipe(\r\n                        tap(_ => this._formInit()),\r\n                        mapStreamData(),\r\n                    ),\r\n                ),\r\n            );\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    ionViewDidEnter(): void {\r\n        if (this.ionContent) {\r\n            setTimeout(async () => await this.ionContent.scrollToBottom(300), 300);\r\n        }\r\n    }\r\n\r\n    ionViewDidLeave(): void {\r\n        this.sharedStoreService.emitEditingTraining(false);\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.sharedStoreService.completeDayClicked();\r\n    }\r\n\r\n    async openReorderModal(): Promise<void> {\r\n        const modal = await this.modalController.create({\r\n            component: ReorderExercisesComponent,\r\n            keyboardClose: true,\r\n        });\r\n        await modal.present();\r\n\r\n        from(modal.onDidDismiss<Training | undefined>())\r\n            .pipe(\r\n                filter<OverlayEventDetail<Training>>(response => response?.role === DialogRoles.REORDER_EXERCISES),\r\n                takeUntil(this.unsubscribeService),\r\n            )\r\n            .subscribe(response => {\r\n                if (response?.data) {\r\n                    this.trainingStream$ = this.trainingStoreService.allExercisesChanged$\r\n                        .pipe(\r\n                            take(1),\r\n                            map(value => ({\r\n                                IsLoading: true,\r\n                                Value: value.Value,\r\n                                IsError: false,\r\n                            })),\r\n                            delay(300),\r\n                            tap(_ => {\r\n                                this.trainingStoreService.updateTrainingState(response.data);\r\n                                this._formInit();\r\n                            }),\r\n                            mapStreamData(),\r\n                            tap(_ => setTimeout(async () => await this.ionContent.scrollToBottom(300), 100)),\r\n                        );\r\n                    this.changeDetectorRef.markForCheck();\r\n                }\r\n            });\r\n    }\r\n\r\n    async openDateTimePicker(): Promise<void> {\r\n        const modal = await this.modalController.create({\r\n            component: DateTimePickerComponent,\r\n            componentProps: { dateValue: format(new Date(this.accessFormData('date').value), `yyyy-MM-dd'T'HH:mm:ss'Z'`) },\r\n            cssClass: 'datetime-picker',\r\n            mode: 'md',\r\n        });\r\n        await modal.present();\r\n\r\n        from(modal.onDidDismiss<string | undefined>())\r\n            .pipe(\r\n                finalize(() => this.changeDetectorRef.markForCheck()),\r\n                takeUntil(this.unsubscribeService),\r\n            )\r\n            .subscribe(response => {\r\n                const { data, role } = response;\r\n                if (role === 'SELECT_DATE') {\r\n                    this.accessFormData('date').patchValue(data);\r\n                    this._setFormattedDate(data);\r\n                }\r\n            });\r\n    }\r\n\r\n    async goToPastTraining(): Promise<void> {\r\n        this.sharedStoreService.pastTrainingsQueryParams$\r\n            .pipe(\r\n                take(1),\r\n            )\r\n            .subscribe(async (params: PastTrainingsQueryParams) => {\r\n                await this.router.navigate(['/training/past-trainings'], { queryParams: params });\r\n                localStorage.removeItem(LocalStorageItems.QUERY_PARAMS);\r\n            });\r\n    }\r\n\r\n    onBodyweightChange(bodyweight: string | number): void {\r\n        this.trainingStoreService.addBodyweightToStorage(typeof bodyweight === 'string' ? bodyweight : bodyweight.toString());\r\n    }\r\n\r\n    async onExerciseAdded(event: UIEvent): Promise<void> {\r\n        if (this.ionContent) {\r\n            of(null)\r\n                .pipe(\r\n                    delay(100),\r\n                    tap(async _ => await this.ionContent.scrollToBottom(300)),\r\n                    delay(200),\r\n                    tap(async _ => await this.singleExerciseCmps.last?.exercisePickerEls?.last?.open(event)),\r\n                    takeUntil(this.unsubscribeService),\r\n                )\r\n                .subscribe();\r\n        }\r\n    }\r\n\r\n    tryAgain(): void {\r\n        if (this.editData?.editTraining) {\r\n            this.trainingStream$ = this.pastTrainingService.getPastTraining(this.editData.editTraining?._id)\r\n                .pipe(\r\n                    tap((response: StreamData<Training>) => {\r\n                        this.editData = {\r\n                            editedDate: response?.Value?.trainingDate ?? new Date(),\r\n                            editTraining: {\r\n                                ...response?.Value,\r\n                                editMode: this.editMode,\r\n                            },\r\n                        };\r\n                        this.trainingStoreService.updateTrainingState(this.editData.editTraining);\r\n                    }),\r\n                    switchMap(_ => this.trainingService.getExercises()),\r\n                    mapStreamData(),\r\n            );\r\n        }\r\n        else {\r\n            this.trainingStream$ = this.trainingService.getExercises()\r\n                .pipe(\r\n                    mapStreamData(),\r\n                );\r\n        }\r\n    }\r\n\r\n    accessFormData(formControl: keyof FormData): FormControl {\r\n        return this.form.get(formControl) as FormControl;\r\n    }\r\n\r\n    private _formInit(): void {\r\n        const currentTrainingState = { ...this.trainingStoreService.getCurrentTrainingState() };\r\n        const dayClickedDate = this.sharedStoreService.getDayClickedDate();\r\n        this.accessFormData('bodyweight').patchValue(this._fillBodyweight(currentTrainingState));\r\n        this.accessFormData('date').patchValue(this._fillTrainingDate(dayClickedDate));\r\n        this.accessFormData('exercises').patchValue(currentTrainingState?.exercises ?? []);\r\n        this._setFormattedDate(this.accessFormData('date').value);\r\n    }\r\n\r\n    private _setFormattedDate(dateValue: string): void {\r\n        const [ date, time ] = dateValue.split('T');\r\n        this.formattedTodayDate = format(parseISO(format(new Date(date), 'yyyy-MM-dd') + `T${time}`), 'HH:mm, MMM d, yyyy');\r\n    }\r\n\r\n    private _fillTrainingDate(dayClickedDate: string | undefined): string {\r\n        if (this.editData?.editedDate) {\r\n            return this.editData.editedDate as string;\r\n        }\r\n        else {\r\n            return dayClickedDate ? dayClickedDate : new Date().toISOString();\r\n        }\r\n    }\r\n\r\n    private _fillBodyweight(currentTrainingState: Training): string {\r\n        return NewTrainingHandler.fillBodyweight(\r\n            currentTrainingState.bodyweight,\r\n            this.editData?.editTraining ? this.editData.editTraining?.bodyweight : null,\r\n        );\r\n    }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { ItemReorderEventDetail, ModalController } from '@ionic/angular';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { DialogRoles } from '../../../../models/common/types/modal-roles.type';\r\nimport { Training } from '../../../../models/training/new-training/training.model';\r\nimport { TrainingStoreService } from '../../../../services/store/training/training-store.service';\r\n\r\n@Component({\r\n    templateUrl: './reorder-exercises.component.html',\r\n    styleUrls: ['./reorder-exercises.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class ReorderExercisesComponent {\r\n\r\n    private reorderedTrainingState: Training;\r\n\r\n    readonly currentExercises$: Observable<string[]> = this.trainingStoreService.currentTrainingChanged$\r\n        .pipe(\r\n            map((training: Training) => training.exercises.map(exercise => exercise.exerciseData.name)),\r\n        );\r\n\r\n    constructor(\r\n        private readonly trainingStoreService: TrainingStoreService,\r\n        private readonly modalController: ModalController,\r\n    ) { }\r\n\r\n    doReorder(ev: CustomEvent<ItemReorderEventDetail>) {\r\n        const currentTrainingState = this.trainingStoreService.getCurrentTrainingState();\r\n        const exerciseFrom = (this.reorderedTrainingState ? this.reorderedTrainingState : currentTrainingState).exercises.find((_exercise, index) => index === ev.detail.from);\r\n        const remainingExercises = (this.reorderedTrainingState ? this.reorderedTrainingState : currentTrainingState).exercises.filter((_exercise, index) => index !== ev.detail.from);\r\n        const reorderedExercises = [\r\n            ...remainingExercises.slice(0, ev.detail.to),\r\n            exerciseFrom,\r\n            ...remainingExercises.slice(ev.detail.to),\r\n        ];\r\n        this.reorderedTrainingState = {\r\n            ...(this.reorderedTrainingState ? this.reorderedTrainingState : currentTrainingState),\r\n            exercises: reorderedExercises,\r\n        };\r\n        ev.detail.complete();\r\n    }\r\n\r\n    async reorderExercises(): Promise<void> {\r\n        await this.modalController.dismiss(this.reorderedTrainingState, DialogRoles.REORDER_EXERCISES);\r\n    }\r\n\r\n    async onCancel(): Promise<void> {\r\n        await this.modalController.dismiss(undefined, DialogRoles.CANCEL);\r\n    }\r\n}\r\n","import { KeyValue } from '@angular/common';\r\nimport { AfterViewInit, ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { IonInput, SegmentChangeEventDetail } from '@ionic/angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, filter, map, takeUntil } from 'rxjs/operators';\r\nimport { INPUT_MAX_LENGTH } from '../../../../constants/shared/input-maxlength.const';\r\nimport { UnsubscribeService } from '../../../../services/shared/unsubscribe.service';\r\nimport { PeriodFilterType } from '../../../../models/training/past-trainings/past-trainings.model';\r\nimport { PastTrainingsStoreService } from '../../../../services/store/training/past-trainings-store.service';\r\n\r\n@Component({\r\n    selector: 'bl-past-trainings-filters',\r\n    templateUrl: './past-trainings-filters.component.html',\r\n    styleUrls: ['./past-trainings-filters.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    providers: [UnsubscribeService],\r\n})\r\nexport class PastTrainingsFiltersComponent implements AfterViewInit {\r\n\r\n    private readonly keyUp$$: Subject<KeyboardEvent> = new Subject<KeyboardEvent>();\r\n\r\n    @Input()\r\n    periodFilter = 'week';\r\n\r\n    @Input()\r\n    periodDisabled = false;\r\n\r\n    @Output()\r\n    readonly trainingEmitted: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n    @Output()\r\n    readonly periodEmitted: EventEmitter<PeriodFilterType> = new EventEmitter<PeriodFilterType>();\r\n\r\n    @ViewChild('search', { read: IonInput })\r\n    searchEl: IonInput;\r\n\r\n    searchValue = '';\r\n\r\n    sortOptions: [KeyValue<PeriodFilterType, Observable<string>>, KeyValue<PeriodFilterType, Observable<string>>] = [\r\n        {\r\n            key: 'week',\r\n            value: this.translateService.stream('training.past_trainings.show_by_week'),\r\n        }, {\r\n            key: 'day',\r\n            value: this.translateService.stream('training.past_trainings.show_by_day'),\r\n        },\r\n    ];\r\n\r\n    constructor(\r\n        private readonly pastTrainingsStoreService: PastTrainingsStoreService,\r\n        private readonly unsubscribeService: UnsubscribeService,\r\n        private readonly translateService: TranslateService,\r\n        private readonly route: ActivatedRoute,\r\n    ) {\r\n        const searchQueryParam = this.route.snapshot.queryParamMap?.get('search');\r\n        if (searchQueryParam) {\r\n            this.searchValue = searchQueryParam;\r\n        }\r\n\r\n        this.keyUp$$\r\n            .pipe(\r\n                map((event: Event) => (event.target as HTMLInputElement).value),\r\n                map((value: string) => value?.trim().toLowerCase()),\r\n                filter((value: string) => value.length <= 50),\r\n                debounceTime(500),\r\n                distinctUntilChanged(),\r\n                takeUntil(this.unsubscribeService),\r\n            )\r\n            .subscribe((value: string) => this.trainingEmitted.next(value));\r\n\r\n    }\r\n\r\n    get inputMaxLength(): number {\r\n        return INPUT_MAX_LENGTH;\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        setTimeout(() => {\r\n            if (this.searchEl) {\r\n                const value = this.searchEl?.value;\r\n                this.pastTrainingsStoreService.emitSearch(value as string);\r\n            }\r\n        });\r\n    }\r\n\r\n    emitKeyboardEvent($event: KeyboardEvent): void {\r\n        this.keyUp$$.next($event);\r\n    }\r\n\r\n    segmentChanged($event: CustomEvent<SegmentChangeEventDetail>): void {\r\n        this.periodEmitted.emit($event?.detail?.value as PeriodFilterType);\r\n    }\r\n\r\n    openFilterDialog(): void {\r\n        //TODO\r\n    }\r\n\r\n}\r\n","import { DatePipe } from '@angular/common';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { add, addDays, format, getMonth, isSameDay, isSameMonth, isSameWeek, startOfDay, startOfWeek, subDays } from 'date-fns';\r\nimport { Observable, of } from 'rxjs';\r\nimport { delay, map, switchMap, take, takeUntil, tap } from 'rxjs/operators';\r\nimport { NavController } from '@ionic/angular';\r\nimport { SharedStoreService } from '../../../services/store/shared/shared-store.service';\r\nimport { ALL_MONTHS } from '../../../helpers/months.helper';\r\nimport { mapStreamData } from '../../../helpers/training/past-trainings/map-stream-data.helper';\r\nimport { LocalStorageItems, StreamData } from '../../../models/common/interfaces/common.model';\r\nimport { Paginator, PaginatorChanged } from '../../../models/common/interfaces/paginator.model';\r\nimport { DateInterval, PastTrainingsQueryParams, PastTrainings, PeriodFilterType } from '../../../models/training/past-trainings/past-trainings.model';\r\nimport { QUERY_PARAMS_DATE_FORMAT, TEMPLATE_DATE_FORMAT } from '../../../constants/training/past-trainings-date-format.const';\r\nimport { UnsubscribeService } from '../../../services/shared/unsubscribe.service';\r\nimport { PastTrainingsService } from '../../../services/api/training/past-trainings.service';\r\nimport { Page } from '../../../models/common/types/page.type';\r\nimport { isNeverCheck } from '../../../helpers/is-never-check.helper';\r\nimport { PastTrainingsStoreService } from '../../../services/store/training/past-trainings-store.service';\r\nimport { PreferencesStoreService } from '../../../services/store/shared/preferences-state.service';\r\nimport { PreferencesService } from '../../../services/shared/preferences.service';\r\nimport { calculateFirstWeekDay, calculateLastWeekDay, getCurrentDayIndex } from '../../../helpers/training/show-by-day.helper';\r\nimport { DayActivatedType } from '../../../models/types/day-activated.type';\r\nimport { INITIAL_PAGE, DEFAULT_SIZE } from '../../../constants/shared/paginator.const';\r\n\r\nenum Heights {\r\n    WEEK_HEIGHT = 315,\r\n    SEARCH_HEIGHT = 345,\r\n}\r\n\r\n@Component({\r\n    selector: 'bl-past-trainings',\r\n    templateUrl: './past-trainings.component.html',\r\n    styleUrls: ['./past-trainings.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n    providers: [UnsubscribeService],\r\n})\r\nexport class PastTrainingsComponent {\r\n\r\n    readonly food: number = 3000;\r\n    readonly pageSizeOptions: number[] = [1, 3, 5, 10];\r\n    size: number = DEFAULT_SIZE;\r\n    page: number = INITIAL_PAGE;\r\n\r\n    searchText = '';\r\n    currentQueryParams: PastTrainingsQueryParams;\r\n\r\n    periodFilter: PeriodFilterType = this.preferencesStoreService.getPreferences()?.ShowByPeriod ?? 'week';\r\n    dayActivated: DayActivatedType = {\r\n        Date: startOfDay(new Date()),\r\n        DayNumber: 0,\r\n    };\r\n    showByDayStartDate: Date;\r\n\r\n    isNextPage = true;\r\n    isPreviousPage = true;\r\n    isSearch = false;\r\n\r\n    pastTrainings$: Observable<StreamData<Paginator<PastTrainings>>> | undefined = undefined;\r\n\r\n    @ViewChild('itemWrapper', { read: ElementRef })\r\n    trainingItemWrapper: ElementRef | undefined;\r\n\r\n    @ViewChild('timePeriod', { read: ElementRef })\r\n    set timePeriodEl(timePeriodElement: ElementRef) {\r\n        if (timePeriodElement) {\r\n            const trainingElement = (this.trainingItemWrapper?.nativeElement as HTMLDivElement);\r\n            if (trainingElement) {\r\n                of(this.isSearch)\r\n                    .pipe(\r\n                        delay(0),\r\n                        takeUntil(this.unsubscribeService),\r\n                    )\r\n                    .subscribe(isSearch => trainingElement.style.maxHeight = `calc(100vh - ${isSearch ? Heights.SEARCH_HEIGHT : Heights.WEEK_HEIGHT}px)`);\r\n            }\r\n        }\r\n    }\r\n\r\n    constructor(\r\n        private readonly pastTrainingsService: PastTrainingsService,\r\n        private readonly pastTrainingsStoreService: PastTrainingsStoreService,\r\n        private readonly unsubscribeService: UnsubscribeService,\r\n        private readonly translateService: TranslateService,\r\n        private readonly sharedStoreService: SharedStoreService,\r\n        private readonly preferencesService: PreferencesService,\r\n        private readonly preferencesStoreService: PreferencesStoreService,\r\n        private readonly changeDetectorRef: ChangeDetectorRef,\r\n        private readonly route: ActivatedRoute,\r\n        private readonly datePipe: DatePipe,\r\n        private readonly router: Router,\r\n        private readonly navController: NavController,\r\n    ) {\r\n        this.route.queryParams\r\n            .pipe(\r\n                takeUntil(this.unsubscribeService),\r\n            )\r\n            .subscribe(params => this.currentQueryParams = params);\r\n\r\n        this.sharedStoreService.deletedTraining$$\r\n            .pipe(\r\n                takeUntil(this.unsubscribeService),\r\n            ).subscribe((response: StreamData<Paginator<PastTrainings>>) => {\r\n                this.pastTrainings$ =\r\n                    of(response)\r\n                        .pipe(mapStreamData());\r\n                this.changeDetectorRef.markForCheck();\r\n            });\r\n    }\r\n\r\n    get dateFormat(): string {\r\n        return TEMPLATE_DATE_FORMAT;\r\n    }\r\n    //TODO: make simple stream\r\n    getDayTranslation$(dayName: string): Observable<string> {\r\n        if (dayName) {\r\n            return this.translateService.stream(dayName)\r\n                .pipe(\r\n                    map(value => value?.toLowerCase()),\r\n                );\r\n        }\r\n        return of('');\r\n    }\r\n\r\n    ionViewWillEnter(): void {\r\n        localStorage.removeItem(LocalStorageItems.QUERY_PARAMS);\r\n        this.pastTrainingsStoreService.isSearch$\r\n            .pipe(\r\n                takeUntil(this.unsubscribeService),\r\n            )\r\n            .subscribe(isSearch => {\r\n                this.isSearch = isSearch;\r\n                this.changeDetectorRef.markForCheck();\r\n            });\r\n        this.initView();\r\n    }\r\n\r\n    ionViewWillLeave(): void {\r\n        this.sharedStoreService.emitPastTrainingsQueryParams(this.currentQueryParams);\r\n        localStorage.setItem(LocalStorageItems.QUERY_PARAMS, JSON.stringify(this.currentQueryParams));\r\n    }\r\n\r\n    searchEmitted(searchText: string): void {\r\n        this.pastTrainingsStoreService.emitSearch(searchText);\r\n        this.page = INITIAL_PAGE;\r\n        this.pastTrainings$ =\r\n            of(searchText)\r\n                .pipe(\r\n                    switchMap((searchText: string) => {\r\n                        this.searchText = searchText;\r\n                        return this.pastTrainingsService.searchPastTrainings(\r\n                            this.searchText,\r\n                            this.size,\r\n                            this.page,\r\n                        ).pipe(\r\n                            tap(async (response: StreamData<Paginator<PastTrainings>>) => {\r\n                                this.showByDayStartDate = new Date();\r\n                                this.updatePageAndSize(response);\r\n                                await this.router.navigate([], {\r\n                                    relativeTo: this.route,\r\n                                    queryParams: this.handleQueryParams(\r\n                                        response,\r\n                                        searchText?.trim() ?? undefined,\r\n                                    ),\r\n                                });\r\n                                this.handlePaginationArrows(response);\r\n                            }),\r\n                            mapStreamData(),\r\n                        );\r\n                    }),\r\n                );\r\n    }\r\n\r\n    onPeriodEmitted(\r\n        $event: PeriodFilterType,\r\n        mondayDate: Date,\r\n    ): void {\r\n        if (mondayDate) {\r\n            this.periodFilter = $event;\r\n            if (this.periodFilter === 'day') {\r\n                this.showByDayStartDate = mondayDate;\r\n                this.dayActivated = {\r\n                    Date: this.showByDayStartDate,\r\n                    DayNumber: getCurrentDayIndex(this.showByDayStartDate),\r\n                };\r\n            }\r\n            const currentPreferences = this.preferencesStoreService.getPreferences();\r\n            this.preferencesService.setPreferences(\r\n                {\r\n                    ...currentPreferences,\r\n                    ShowByPeriod: this.periodFilter,\r\n                },\r\n                'showByPeriod',\r\n            ).pipe(\r\n                take(1),\r\n            ).subscribe(_ => {\r\n                this.pastTrainings$ = this.pastTrainingsService\r\n                    .getPastTrainings(\r\n                        startOfWeek(mondayDate, { weekStartsOn: 1 }),\r\n                        this.periodFilter,\r\n                    ).pipe(\r\n                        tap(async response => {\r\n                            await this.router.navigate([], {\r\n                                relativeTo: this.route,\r\n                                queryParams: this.handleQueryParams(response),\r\n                            });\r\n                        }),\r\n                        mapStreamData(),\r\n                    );\r\n                this.changeDetectorRef.markForCheck();\r\n            });\r\n        }\r\n    }\r\n\r\n    onDayActivated($event: DayActivatedType): void {\r\n        if (!this.isSearch) {\r\n            this.dayActivated = $event;\r\n            this.pastTrainings$ = this.pastTrainingsService.getPastTrainings($event.Date, 'day')\r\n                .pipe(\r\n                    tap(async response => {\r\n                        await this.router.navigate([], {\r\n                            relativeTo: this.route,\r\n                            queryParams: this.handleQueryParams(response),\r\n                        });\r\n                    }),\r\n                    mapStreamData(),\r\n                );\r\n        }\r\n    }\r\n\r\n    onPaginatorChanged(\r\n        $event: PaginatorChanged,\r\n        dayFilterDate: Date,\r\n    ): void {\r\n        if ($event?.IsSearch) {\r\n            this.pastTrainings$ =\r\n                this.pastTrainingsService.searchPastTrainings(\r\n                    this.searchText?.trim()?.toLowerCase() ?? '',\r\n                    $event.Size,\r\n                    $event.Page,\r\n                ).pipe(\r\n                    tap(async (response: StreamData<Paginator<PastTrainings>>) => {\r\n                        this.updatePageAndSize(response);\r\n                        await this.router.navigate([], {\r\n                            relativeTo: this.route,\r\n                            queryParams: this.handleQueryParams(\r\n                                response,\r\n                                this.searchText,\r\n                            ),\r\n                        });\r\n                        this.handlePaginationArrows(response);\r\n                    }),\r\n                    mapStreamData(),\r\n                );\r\n        }\r\n        else {\r\n            if (this.periodFilter === 'day') {\r\n                this.showByDayStartDate = this.calculateDate(\r\n                    $event.PageType,\r\n                    undefined,\r\n                    $event.EarliestTrainingDate,\r\n                    dayFilterDate,\r\n                );\r\n                this.dayActivated = {\r\n                    Date: this.showByDayStartDate,\r\n                    DayNumber: getCurrentDayIndex(this.showByDayStartDate),\r\n                };\r\n            }\r\n            this.pastTrainings$ =\r\n                this.pastTrainingsService.getPastTrainings(\r\n                    this.periodFilter === 'week'\r\n                    ?   this.onPaginatorChangedFilterHandler(this.periodFilter, $event)\r\n                    :   this.onPaginatorChangedFilterHandler(\r\n                            this.periodFilter,\r\n                            undefined,\r\n                            this.showByDayStartDate,\r\n                    ),\r\n                    this.periodFilter,\r\n                ).pipe(\r\n                    tap(async (response: StreamData<Paginator<PastTrainings>>) => {\r\n                        this.handlePaginationArrows(response);\r\n                        await this.router.navigate([], {\r\n                            relativeTo: this.route,\r\n                            queryParams: this.handleQueryParams(response),\r\n                        });\r\n                    }),\r\n                    mapStreamData(),\r\n                );\r\n        }\r\n    }\r\n\r\n    async logNewTraining(): Promise<void> {\r\n        const dayClickedDate = add(this.dayActivated.Date, { hours: 7 });\r\n        this.sharedStoreService.emitDayClicked(dayClickedDate.toISOString());\r\n        await this.navController.navigateForward('/training/new-training');\r\n    }\r\n\r\n    //TODO: align with 'ShowByDay' feature\r\n    tryAgain(): void {\r\n        this.initView();\r\n    }\r\n\r\n    setTimePeriod$(results: PastTrainings): Observable<string> {\r\n        const dateInterval = results.Dates;\r\n        if (dateInterval?.StartDate && dateInterval?.EndDate) {\r\n            const isDay = isSameDay(\r\n                dateInterval.StartDate,\r\n                dateInterval.EndDate,\r\n            );\r\n            if (isDay) {\r\n                return this.translateService.stream(results.DayName)\r\n                    .pipe(\r\n                        map((value: string) => this.generateHeaderTitle(value, dateInterval.StartDate)),\r\n                    );\r\n            }\r\n            const isWeek = isSameWeek(\r\n                dateInterval.StartDate,\r\n                dateInterval.EndDate,\r\n                { weekStartsOn: 1 },\r\n            );\r\n            if (isWeek) {\r\n                return this.translateService.stream('common.week')\r\n                    .pipe(\r\n                        map((value: string) => this.generateHeaderTitle(value, dateInterval.StartDate, dateInterval.EndDate)),\r\n                    );\r\n            }\r\n            const isMonth = isSameMonth(\r\n                dateInterval.StartDate,\r\n                dateInterval.EndDate,\r\n            );\r\n            if (isMonth) {\r\n                const month = getMonth(dateInterval.StartDate);\r\n                return this.translateService.stream(`common.months.${ALL_MONTHS[month]}`)\r\n                    .pipe(\r\n                        map((value: string) => this.generateHeaderTitle(value, dateInterval.StartDate, dateInterval.EndDate)),\r\n                    );\r\n            }\r\n            return this.translateService.stream('common.period')\r\n                .pipe(\r\n                    map((value: string) => this.generateHeaderTitle(value, dateInterval.StartDate, dateInterval.EndDate)),\r\n                );\r\n        }\r\n        else {\r\n            return of('');\r\n        }\r\n    }\r\n\r\n    private initView(): void {\r\n        this.page = this.route.snapshot.queryParamMap?.get('page') ? +this.route.snapshot.queryParamMap.get('page') : INITIAL_PAGE;\r\n        this.size = this.route.snapshot.queryParamMap?.get('size') ? +this.route.snapshot.queryParamMap.get('size') : DEFAULT_SIZE;\r\n        this.searchText = this.route.snapshot.queryParamMap?.get('search');\r\n        if (this.searchText) {\r\n            this.pastTrainings$ = this.pastTrainingsService.searchPastTrainings(\r\n                this.searchText.trim().toLowerCase(),\r\n                this.size,\r\n                this.page,\r\n            ).pipe(\r\n                tap((response: StreamData<Paginator<PastTrainings>>) => this.handlePaginationArrows(response)),\r\n                mapStreamData(),\r\n            );\r\n        }\r\n        else {\r\n            this.periodFilter = this.route.snapshot.queryParamMap?.get('showBy') as PeriodFilterType;\r\n            if (this.periodFilter === 'day') {\r\n                this.showByDayStartDate = this.getDateTimeQueryParams();\r\n                this.dayActivated = {\r\n                    Date: this.showByDayStartDate,\r\n                    DayNumber: getCurrentDayIndex(this.showByDayStartDate),\r\n                };\r\n            }\r\n            this.pastTrainings$ = this.pastTrainingsService.getPastTrainings(\r\n                this.getDateTimeQueryParams(),\r\n                this.periodFilter ?? 'week',\r\n            ).pipe(\r\n                tap((response: StreamData<Paginator<PastTrainings>>) => this.handlePaginationArrows(response)),\r\n                mapStreamData(),\r\n            );\r\n        }\r\n    }\r\n\r\n    private onPaginatorChangedFilterHandler(\r\n        periodFilterType: PeriodFilterType,\r\n        $weekEvent?: PaginatorChanged,\r\n        startOfCurrentWeek?: Date,\r\n    ): Date {\r\n        switch (periodFilterType) {\r\n            case 'week': {\r\n                return this.calculateDate($weekEvent.PageType, $weekEvent.DateInterval, $weekEvent.EarliestTrainingDate);\r\n            }\r\n            case 'day': {\r\n                return addDays(startOfWeek(startOfCurrentWeek, { weekStartsOn: 1 }), this.dayActivated.DayNumber);\r\n            }\r\n            default:\r\n                isNeverCheck(periodFilterType);\r\n        }\r\n    }\r\n\r\n    private updatePageAndSize(response: StreamData<Paginator<PastTrainings>>): void {\r\n        this.page = response?.Value?.CurrentPage ?? INITIAL_PAGE;\r\n        this.size = response?.Value?.Size ?? DEFAULT_SIZE;\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    private calculateDate(\r\n        page: Page,\r\n        dateInterval: DateInterval,\r\n        earliestTrainingDate: string,\r\n        startingDate?: Date,\r\n    ): Date {\r\n        switch (page) {\r\n            case 'Previous': {\r\n                return subDays(startingDate ? startingDate : dateInterval.StartDate, 7);\r\n            }\r\n            case 'Next': {\r\n                return addDays(startingDate ? startingDate : dateInterval.StartDate, 7);\r\n            }\r\n            case 'First': {\r\n                return this.periodFilter === 'week' ? new Date(earliestTrainingDate) : calculateFirstWeekDay(earliestTrainingDate, startingDate);\r\n            }\r\n            case 'Last': {\r\n                return this.periodFilter === 'week' ? new Date() : calculateLastWeekDay(startingDate);\r\n            }\r\n            default:\r\n                return isNeverCheck(page);\r\n        }\r\n    }\r\n\r\n    private handleQueryParams(\r\n        trainingData: StreamData<Paginator<PastTrainings>>,\r\n        searchValue?: string,\r\n    ): PastTrainingsQueryParams {\r\n        return {\r\n            startDate: this.handleSpecificQueryParam(searchValue, trainingData, 'startDate'),\r\n            endDate: this.handleSpecificQueryParam(searchValue, trainingData, 'endDate'),\r\n            search: searchValue ?? undefined,\r\n            page: this.handleSpecificQueryParam(searchValue, trainingData, 'page'),\r\n            size: this.handleSpecificQueryParam(searchValue, trainingData, 'size'),\r\n            showBy: !searchValue ? this.periodFilter : undefined,\r\n        } as PastTrainingsQueryParams;\r\n    }\r\n\r\n    private handleSpecificQueryParam(\r\n        searchValue: string | undefined,\r\n        trainingData: StreamData<Paginator<PastTrainings>>,\r\n        queryParam: keyof PastTrainingsQueryParams,\r\n    ): string | void {\r\n        if (searchValue) {\r\n            if (trainingData?.Value?.TotalCount > 0) {\r\n                if (queryParam === 'page') {\r\n                    return this.page.toString();\r\n                }\r\n                else if (queryParam === 'startDate') {\r\n                    return format(trainingData?.Value?.Results?.Dates?.StartDate ?? new Date(), QUERY_PARAMS_DATE_FORMAT);\r\n                }\r\n                else if (queryParam === 'endDate') {\r\n                    return format(trainingData?.Value?.Results?.Dates?.EndDate ?? new Date(), QUERY_PARAMS_DATE_FORMAT);\r\n                }\r\n                else {\r\n                    return this.size.toString();\r\n                }\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        }\r\n        else {\r\n            if (queryParam === 'startDate') {\r\n                return format(trainingData?.Value?.Results?.Dates?.StartDate ?? new Date(), QUERY_PARAMS_DATE_FORMAT);\r\n            }\r\n            else if (queryParam === 'endDate') {\r\n                return format(trainingData?.Value?.Results?.Dates?.EndDate ?? new Date(), QUERY_PARAMS_DATE_FORMAT);\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    private handlePaginationArrows(x: StreamData<Paginator<PastTrainings>>): void {\r\n        this.isPreviousPage = !!x?.Value?.Previous;\r\n        this.isNextPage = !!x?.Value?.Next;\r\n        if (x?.Value?.Results?.IsPreviousWeek !== undefined && x?.Value?.Results?.IsNextWeek !== undefined) {\r\n            this.isNextPage = x.Value.Results.IsNextWeek;\r\n            this.isPreviousPage = x.Value.Results.IsPreviousWeek;\r\n        }\r\n        this.changeDetectorRef.markForCheck();\r\n    }\r\n\r\n    private getDateTimeQueryParams(): Date {\r\n        const splittedDate = this.route.snapshot.queryParams?.startDate?.split('-') ?? [];\r\n        const utc = splittedDate.length > 0 ? new Date(`${splittedDate[2]}-${splittedDate[1]}-${splittedDate[0]}`).toUTCString() : new Date().toUTCString();\r\n        return startOfDay(new Date(utc));\r\n    }\r\n\r\n    private generateHeaderTitle(\r\n        period: string,\r\n        startDate: Date,\r\n        endDate?: Date,\r\n    ): string {\r\n        if (endDate) {\r\n            return `\r\n                <strong class=\"header-title--key\">${period}</strong>\r\n                <span class=\"header-title--value\">(${this.datePipe.transform(startDate, this.dateFormat)} - ${this.datePipe.transform(endDate, this.dateFormat)})</span>`;\r\n        }\r\n        else {\r\n            return `<strong class=\"header-title--key\">${period}</strong>\r\n                <span class=\"header-title--value\">(${this.datePipe.transform(startDate, this.dateFormat)})</span`;\r\n        }\r\n    }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { addDays, startOfDay, startOfWeek } from 'date-fns';\r\nimport { DayActivatedType } from '../../../../models/types/day-activated.type';\r\nimport { getCurrentDayIndex } from '../../../../helpers/training/show-by-day.helper';\r\n\r\n@Component({\r\n    selector: 'bl-show-by-day',\r\n    templateUrl: './show-by-day.component.html',\r\n    styleUrls: ['./show-by-day.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class ShowByDayComponent implements OnChanges {\r\n\r\n    @Input()\r\n    startDate = startOfDay(new Date());\r\n\r\n    @Output()\r\n    readonly dayActivated: EventEmitter<DayActivatedType> = new EventEmitter<DayActivatedType>();\r\n\r\n    readonly activeDay$$: BehaviorSubject<number> = new BehaviorSubject(1);\r\n    readonly daysOfWeek$: Observable<string[]> = this.translateService.stream('weekdays')\r\n        .pipe(\r\n            map(value => Object.values(value)),\r\n        );\r\n\r\n    constructor(\r\n        private readonly translateService: TranslateService,\r\n    ) { }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        const startDate = changes?.startDate?.currentValue as Date;\r\n        if (startDate) {\r\n            this.activeDay$$.next(getCurrentDayIndex(startDate) + 1);\r\n        }\r\n    }\r\n\r\n    onDayActivated(index: number): void {\r\n        const dayNumber = index + 1;\r\n        this.activeDay$$.next(dayNumber);\r\n\r\n        const newDate = addDays(startOfWeek(this.startDate, { weekStartsOn: 1 }), index);\r\n        this.dayActivated.next({ Date: newDate, DayNumber: index });\r\n    }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\nimport { Training } from '../../../../../models/training/new-training/training.model';\r\nimport { DeleteTrainingActionService } from '../../../../../services/api/training/delete-training-action.service';\r\nimport { TrainingItemActions } from '../../../../../models/training/past-trainings/training-actions/training-actions.model';\r\nimport { DeleteTrainingActionData } from '../../../../../models/training/past-trainings/training-actions/training-actions.model';\r\n\r\n@Component({\r\n    selector: 'bl-training-item-actions',\r\n    templateUrl: './training-item-actions.component.html',\r\n    styleUrls: ['./training-item-actions.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TrainingItemActionsComponent {\r\n\r\n    @Input()\r\n    action: TrainingItemActions;\r\n\r\n    @Input()\r\n    training: Training;\r\n\r\n    @Input()\r\n    dayIndex: number;\r\n\r\n    @Input()\r\n    weekDays: string[];\r\n\r\n    @Input()\r\n    timeCreated: string;\r\n\r\n    constructor(\r\n        private readonly deleteTrainingActionService: DeleteTrainingActionService,\r\n    ) { }\r\n\r\n    async performAction(action: TrainingItemActions): Promise<void> {\r\n        const data: DeleteTrainingActionData = {\r\n            weekDays: this.weekDays,\r\n            timeCreated: this.timeCreated,\r\n            dayIndex: this.dayIndex,\r\n            training: this.training,\r\n        };\r\n        switch (action) {\r\n            case 'delete':\r\n                await this.deleteTrainingActionService.perform(data);\r\n        }\r\n    }\r\n}\r\n","import { ChangeDetectionStrategy, Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { format } from 'date-fns';\r\nimport { take } from 'rxjs/operators';\r\nimport { LocalStorageItems } from '../../../../models/common/interfaces/common.model';\r\nimport { Training } from '../../../../models/training/new-training/training.model';\r\nimport { PastTrainingsQueryParams } from '../../../../models/training/past-trainings/past-trainings.model';\r\nimport { TrainingItemActions } from '../../../../models/training/past-trainings/training-actions/training-actions.model';\r\nimport { SharedStoreService } from '../../../../services/store/shared/shared-store.service';\r\n\r\n@Component({\r\n    selector: 'bl-training-item',\r\n    templateUrl: './training-item.component.html',\r\n    styleUrls: ['./training-item.component.scss'],\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TrainingItemComponent implements OnInit {\r\n\r\n    readonly weekDays: string[] = [\r\n        'sunday',\r\n        'monday',\r\n        'tuesday',\r\n        'wednesday',\r\n        'thursday',\r\n        'friday',\r\n        'saturday',\r\n    ];\r\n\r\n    readonly actions: TrainingItemActions[] = [\r\n        'delete',\r\n        'more',\r\n    ];\r\n\r\n    timeCreated: string;\r\n    dayIndex: number;\r\n\r\n    @Input()\r\n    training: Training;\r\n\r\n    constructor(\r\n        private readonly sharedStoreService: SharedStoreService,\r\n        private readonly route: ActivatedRoute,\r\n        private readonly router: Router,\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        this.timeCreated = format(new Date(this.training.trainingDate), 'HH:mm');\r\n        this.dayIndex = new Date(this.training.trainingDate).getDay();\r\n    }\r\n\r\n    async trainingClicked(): Promise<void> {\r\n        this.route.queryParams\r\n            .pipe(\r\n                take(1),\r\n            )\r\n            .subscribe(async (params: Params) => {\r\n                this.sharedStoreService.emitPastTrainingsQueryParams(params as PastTrainingsQueryParams);\r\n                localStorage.setItem(LocalStorageItems.QUERY_PARAMS, JSON.stringify(params as PastTrainingsQueryParams));\r\n                await this.router.navigate(['/training/new-training', this.training._id]);\r\n            });\r\n    }\r\n\r\n}\r\n","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the months added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\n\nexport default function addMonths(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  var dayOfMonth = date.getDate(); // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n\n  var endOfDesiredMonth = new Date(date.getTime());\n  endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n  var daysInMonth = endOfDesiredMonth.getDate();\n\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n    return date;\n  }\n}","import addDays from \"../addDays/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n\n/**\n * @name add\n * @category Common Helpers\n * @summary Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @description\n * Add the specified years, months, weeks, days, hours, minutes and seconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Duration} duration - the object with years, months, weeks, days, hours, minutes and seconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n *\n * | Key            | Description                        |\n * |----------------|------------------------------------|\n * | years          | Amount of years to be added        |\n * | months         | Amount of months to be added       |\n * | weeks          | Amount of weeks to be added        |\n * | days           | Amount of days to be added         |\n * | hours          | Amount of hours to be added        |\n * | minutes        | Amount of minutes to be added      |\n * | seconds        | Amount of seconds to be added      |\n *\n * All values default to 0\n *\n * @returns {Date} the new date with the seconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add the following duration to 1 September 2014, 10:19:50\n * const result = add(new Date(2014, 8, 1, 10, 19, 50), {\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30,\n * })\n * //=> Thu Jun 15 2017 15:29:20\n */\nexport default function add(dirtyDate, duration) {\n  requiredArgs(2, arguments);\n  if (!duration || typeof duration !== 'object') return new Date(NaN);\n  var years = duration.years ? toInteger(duration.years) : 0;\n  var months = duration.months ? toInteger(duration.months) : 0;\n  var weeks = duration.weeks ? toInteger(duration.weeks) : 0;\n  var days = duration.days ? toInteger(duration.days) : 0;\n  var hours = duration.hours ? toInteger(duration.hours) : 0;\n  var minutes = duration.minutes ? toInteger(duration.minutes) : 0;\n  var seconds = duration.seconds ? toInteger(duration.seconds) : 0; // Add years and months\n\n  var date = toDate(dirtyDate);\n  var dateWithMonths = months || years ? addMonths(date, months + years * 12) : date; // Add weeks and days\n\n  var dateWithDays = days || weeks ? addDays(dateWithMonths, days + weeks * 7) : dateWithMonths; // Add days, hours, minutes and seconds\n\n  var minutesToAdd = minutes + hours * 60;\n  var secondsToAdd = seconds + minutesToAdd * 60;\n  var msToAdd = secondsToAdd * 1000;\n  var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n  return finalDate;\n}","/**\n * Days in 1 week.\n *\n * @name daysInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInWeek = 7;\n/**\n * Maximum allowed time.\n *\n * @name maxTime\n * @constant\n * @type {number}\n * @default\n */\n\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n/**\n * Milliseconds in 1 minute\n *\n * @name millisecondsInMinute\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInMinute = 60000;\n/**\n * Milliseconds in 1 hour\n *\n * @name millisecondsInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInHour = 3600000;\n/**\n * Milliseconds in 1 second\n *\n * @name millisecondsInSecond\n * @constant\n * @type {number}\n * @default\n */\n\nexport var millisecondsInSecond = 1000;\n/**\n * Minimum allowed time.\n *\n * @name minTime\n * @constant\n * @type {number}\n * @default\n */\n\nexport var minTime = -maxTime;\n/**\n * Minutes in 1 hour\n *\n * @name minutesInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var minutesInHour = 60;\n/**\n * Months in 1 quarter\n *\n * @name monthsInQuarter\n * @constant\n * @type {number}\n * @default\n */\n\nexport var monthsInQuarter = 3;\n/**\n * Months in 1 year\n *\n * @name monthsInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var monthsInYear = 12;\n/**\n * Quarters in 1 year\n *\n * @name quartersInYear\n * @constant\n * @type {number}\n * @default\n */\n\nexport var quartersInYear = 4;\n/**\n * Seconds in 1 hour\n *\n * @name secondsInHour\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInHour = 3600;\n/**\n * Seconds in 1 minute\n *\n * @name secondsInMinute\n * @constant\n * @type {number}\n * @default\n */\n\nexport var secondsInMinute = 60;","import getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\n\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarDays from \"../differenceInCalendarDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\n\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\n\n\nexport default function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference); // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n  var result = sign * (difference - isLastDayNotFull); // Prevent negative zero\n\n  return result === 0 ? 0 : result;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name getMonth\n * @category Month Helpers\n * @summary Get the month of the given date.\n *\n * @description\n * Get the month of the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which month is 29 February 2012?\n * const result = getMonth(new Date(2012, 1, 29))\n * //=> 1\n */\n\nexport default function getMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  return month;\n}","import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * var result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n * \n * @example\n * // Are 4 September and 4 October in the same day?\n * var result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n * \n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * var result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\n\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month (and year)?\n *\n * @description\n * Are the given dates in the same month (and year)?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same month (and year)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * var result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n *\n * @example\n * // Are 2 September 2014 and 25 September 2015 in the same month?\n * var result = isSameMonth(new Date(2014, 8, 2), new Date(2015, 8, 25))\n * //=> false\n */\n\nexport default function isSameMonth(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear() && dateLeft.getMonth() === dateRight.getMonth();\n}","import startOfWeek from \"../startOfWeek/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n\n/**\n * @name isSameWeek\n * @category Week Helpers\n * @summary Are the given dates in the same week (and month and year)?\n *\n * @description\n * Are the given dates in the same week (and month and year)?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Boolean} the dates are in the same week (and month and year)\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // Are 31 August 2014 and 4 September 2014 in the same week?\n * var result = isSameWeek(new Date(2014, 7, 31), new Date(2014, 8, 4))\n * //=> true\n *\n * @example\n * // If week starts with Monday,\n * // are 31 August 2014 and 4 September 2014 in the same week?\n * var result = isSameWeek(new Date(2014, 7, 31), new Date(2014, 8, 4), {\n *   weekStartsOn: 1\n * })\n * //=> false\n * \n * @example\n * // Are 1 January 2014 and 1 January 2015 in the same week?\n * var result = isSameWeek(new Date(2014, 0, 1), new Date(2015, 0, 1))\n * //=> false\n */\nexport default function isSameWeek(dirtyDateLeft, dirtyDateRight, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfWeek = startOfWeek(dirtyDateLeft, dirtyOptions);\n  var dateRightStartOfWeek = startOfWeek(dirtyDateRight, dirtyOptions);\n  return dateLeftStartOfWeek.getTime() === dateRightStartOfWeek.getTime();\n}","import { millisecondsInHour, millisecondsInMinute } from \"../constants/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The previous `parse` implementation was renamed to `parseISO`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward\n *   parseISO('2016-01-01')\n *   ```\n *\n * - `parseISO` now validates separate date and time values in ISO-8601 strings\n *   and returns `Invalid Date` if the date is invalid.\n *\n *   ```javascript\n *   parseISO('2018-13-32')\n *   //=> Invalid Date\n *   ```\n *\n * - `parseISO` now doesn't fall back to `new Date` constructor\n *   if it fails to parse a string argument. Instead, it returns `Invalid Date`.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nexport default function parseISO(argument, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var additionalDigits = options.additionalDigits == null ? 2 : toInteger(options.additionalDigits);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var date;\n\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n\n    if (isNaN(time)) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time); // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n\n    var result = new Date(0);\n    result.setFullYear(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate());\n    result.setHours(dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString; // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex); // Invalid ISO-formatted year\n\n  if (!captures) return {\n    year: NaN,\n    restDateString: ''\n  };\n  var year = captures[1] ? parseInt(captures[1]) : null;\n  var century = captures[2] ? parseInt(captures[2]) : null; // either year or century is null, not both\n\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n  var captures = dateString.match(dateRegex); // Invalid ISO-formatted string\n\n  if (!captures) return new Date(NaN);\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000;\n}\n\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n// February is null to handle the leap year (using ||)\n\n\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}\n\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport addDays from \"../addDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\n\nexport default function subDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addDays(dirtyDate, -amount);\n}","import { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function debounceTime(dueTime, scheduler = async) {\n    return (source) => source.lift(new DebounceTimeOperator(dueTime, scheduler));\n}\nclass DebounceTimeOperator {\n    constructor(dueTime, scheduler) {\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n    }\n}\nclass DebounceTimeSubscriber extends Subscriber {\n    constructor(destination, dueTime, scheduler) {\n        super(destination);\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n        this.debouncedSubscription = null;\n        this.lastValue = null;\n        this.hasValue = false;\n    }\n    _next(value) {\n        this.clearDebounce();\n        this.lastValue = value;\n        this.hasValue = true;\n        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n    }\n    _complete() {\n        this.debouncedNext();\n        this.destination.complete();\n    }\n    debouncedNext() {\n        this.clearDebounce();\n        if (this.hasValue) {\n            const { lastValue } = this;\n            this.lastValue = null;\n            this.hasValue = false;\n            this.destination.next(lastValue);\n        }\n    }\n    clearDebounce() {\n        const debouncedSubscription = this.debouncedSubscription;\n        if (debouncedSubscription !== null) {\n            this.remove(debouncedSubscription);\n            debouncedSubscription.unsubscribe();\n            this.debouncedSubscription = null;\n        }\n    }\n}\nfunction dispatchNext(subscriber) {\n    subscriber.debouncedNext();\n}\n"],"names":["ChangeDetectionStrategy","ChangeDetectorRef","Component","ViewChild","ViewChildren","FormControl","FormGroup","Validators","ActivatedRoute","Router","IonContent","ModalController","format","parseISO","from","of","delay","filter","finalize","map","switchMap","take","takeUntil","tap","SharedStoreService","PastTrainingsService","NewTrainingHandler","mapStreamData","LocalStorageItems","DialogRoles","UnsubscribeService","CommonValidators","DateTimePickerComponent","SingleExerciseComponent","TrainingStoreService","TrainingService","AuthStoreService","EMPTY_TRAINING","EMPTY_TRAINING_EDIT","createEmptyExercise","ReorderExercisesComponent","NewTrainingComponent","constructor","trainingStoreService","trainingService","pastTrainingService","sharedStoreService","authStoreService","unsubscribeService","route","router","modalController","changeDetectorRef","undefined","isAuth$","editingTraining$","currentTrainingChanged$","pipe","training","exercises","areAtLeastTwoExercises","length","every","exercise","exerciseData","name","sets","form","bodyweight","validators","isNumber","min","max","updateOn","date","Date","toISOString","required","ionViewWillEnter","allExercisesChanged","trainingStream$","params","allExercisesChanged$","value","getExercises","exercisesData","_","editMode","getPastTraining","response","editData","editedDate","Value","_a","trainingDate","_b","editTraining","updateTrainingState","trainingState","currentTrainingState","Object","userId","emitEditingTraining","_formInit","markForCheck","ionViewDidEnter","ionContent","setTimeout","scrollToBottom","ionViewDidLeave","ngOnDestroy","completeDayClicked","openReorderModal","modal","create","component","keyboardClose","present","onDidDismiss","role","REORDER_EXERCISES","subscribe","data","IsLoading","IsError","openDateTimePicker","componentProps","dateValue","accessFormData","cssClass","mode","patchValue","_setFormattedDate","goToPastTraining","pastTrainingsQueryParams$","navigate","queryParams","localStorage","removeItem","QUERY_PARAMS","onBodyweightChange","addBodyweightToStorage","toString","onExerciseAdded","event","singleExerciseCmps","last","exercisePickerEls","_c","open","tryAgain","_id","formControl","get","getCurrentTrainingState","dayClickedDate","getDayClickedDate","_fillBodyweight","_fillTrainingDate","time","split","formattedTodayDate","fillBodyweight","args","read","selector","template","changeDetection","OnPush","providers","doReorder","ev","exerciseFrom","reorderedTrainingState","find","_exercise","index","detail","remainingExercises","reorderedExercises","slice","to","complete","reorderExercises","dismiss","onCancel","CANCEL","DatePipe","ElementRef","TranslateService","add","addDays","getMonth","isSameDay","isSameMonth","isSameWeek","startOfDay","startOfWeek","subDays","NavController","ALL_MONTHS","QUERY_PARAMS_DATE_FORMAT","TEMPLATE_DATE_FORMAT","isNeverCheck","PastTrainingsStoreService","PreferencesStoreService","PreferencesService","calculateFirstWeekDay","calculateLastWeekDay","getCurrentDayIndex","INITIAL_PAGE","DEFAULT_SIZE","Heights","PastTrainingsComponent","pastTrainingsService","pastTrainingsStoreService","translateService","preferencesService","preferencesStoreService","datePipe","navController","getPreferences","ShowByPeriod","DayNumber","currentQueryParams","deletedTraining$$","pastTrainings$","timePeriodEl","timePeriodElement","trainingElement","trainingItemWrapper","nativeElement","isSearch","style","maxHeight","SEARCH_HEIGHT","WEEK_HEIGHT","dateFormat","getDayTranslation$","dayName","stream","toLowerCase","isSearch$","initView","ionViewWillLeave","emitPastTrainingsQueryParams","setItem","JSON","stringify","searchEmitted","searchText","emitSearch","page","searchPastTrainings","size","showByDayStartDate","updatePageAndSize","relativeTo","handleQueryParams","trim","handlePaginationArrows","onPeriodEmitted","$event","mondayDate","periodFilter","dayActivated","currentPreferences","setPreferences","getPastTrainings","weekStartsOn","onDayActivated","onPaginatorChanged","dayFilterDate","IsSearch","Size","Page","calculateDate","PageType","EarliestTrainingDate","onPaginatorChangedFilterHandler","logNewTraining","hours","emitDayClicked","navigateForward","setTimePeriod$","results","dateInterval","Dates","StartDate","EndDate","isDay","DayName","generateHeaderTitle","isWeek","isMonth","month","snapshot","queryParamMap","_d","getDateTimeQueryParams","_e","periodFilterType","$weekEvent","startOfCurrentWeek","DateInterval","CurrentPage","earliestTrainingDate","startingDate","trainingData","searchValue","startDate","handleSpecificQueryParam","endDate","search","showBy","queryParam","TotalCount","Results","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","x","isPreviousPage","Previous","isNextPage","Next","IsPreviousWeek","IsNextWeek","splittedDate","utc","toUTCString","period","transform","Input","DeleteTrainingActionService","TrainingItemActionsComponent","deleteTrainingActionService","performAction","action","weekDays","timeCreated","dayIndex","perform","TrainingItemComponent","ngOnInit","getDay","trainingClicked"],"sourceRoot":"webpack:///"}