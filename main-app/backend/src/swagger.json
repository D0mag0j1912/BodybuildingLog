{
    "openapi": "3.0.0",
    "paths": {
        "/auth/get-all-emails": {
            "get": {
                "operationId": "GetEmailsController_getEmails",
                "parameters": [
                    {
                        "name": "email",
                        "required": true,
                        "in": "query",
                        "description": "Email",
                        "example": "john.doe@gmail.com",
                        "schema": { "type": "string" }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Boolean indicating whether email already exists in database"
                    }
                },
                "tags": ["Authentication"]
            }
        },
        "/auth/signup": {
            "post": {
                "operationId": "SignupController_signup",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": { "$ref": "#/components/schemas/SignupRequestDto" }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/SignupResponseDto" }
                            }
                        }
                    },
                    "400": { "description": "Bad request from client" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Authentication"]
            }
        },
        "/auth/login": {
            "post": {
                "operationId": "LoginController_login",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": { "$ref": "#/components/schemas/LoginRequestDto" }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/LoginResponseDto" }
                            }
                        }
                    },
                    "400": { "description": "Bad request from client" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Authentication"]
            }
        },
        "/auth/check-pass": {
            "get": {
                "operationId": "CheckPassController_passwordFitsEmail",
                "parameters": [
                    {
                        "name": "email",
                        "required": true,
                        "in": "query",
                        "description": "The email address of the user",
                        "example": "john.doe@gmail.com",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "password",
                        "required": true,
                        "in": "query",
                        "description": "The password of the user",
                        "example": "Password@123",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "_id",
                        "required": false,
                        "in": "query",
                        "schema": { "type": "string" }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Response returns boolean depends if password fits email"
                    }
                },
                "tags": ["Authentication"]
            }
        },
        "/preferences/{userId}": {
            "get": {
                "operationId": "PreferencesController_getPreferences",
                "parameters": [
                    {
                        "name": "userId",
                        "required": true,
                        "in": "path",
                        "schema": { "type": "string" }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Returns preferences object to the client",
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/PreferencesDto" }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Preferences"]
            },
            "put": {
                "operationId": "PreferencesController_setPreferences",
                "parameters": [
                    {
                        "name": "userId",
                        "required": true,
                        "in": "path",
                        "schema": { "type": "string" }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": { "$ref": "#/components/schemas/UpdatePreferencesDto" }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Returns confirmation message to the client",
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/GeneralResponseDto" }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Return internal server error message to the client" }
                },
                "tags": ["Preferences"]
            }
        },
        "/training/new-training": {
            "post": {
                "operationId": "NewTrainingController_addTraining",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": { "$ref": "#/components/schemas/NewTrainingDto" }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Returns message after successful creation",
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/GeneralResponseDto" }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["New training"]
            }
        },
        "/training/new-training/{id}": {
            "put": {
                "operationId": "NewTrainingController_updateTraining",
                "parameters": [
                    { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": { "$ref": "#/components/schemas/NewTrainingDto" }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Returns message after successful update",
                        "content": {
                            "application/json": {
                                "schema": { "$ref": "#/components/schemas/GeneralResponseDto" }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Returns server error" }
                },
                "tags": ["New training"]
            }
        },
        "/training/past-trainings": {
            "get": {
                "operationId": "PastTrainingsController_getPastTrainings",
                "parameters": [
                    {
                        "name": "currentDate",
                        "required": true,
                        "in": "query",
                        "schema": { "format": "date-time", "type": "string" }
                    },
                    {
                        "name": "filterType",
                        "required": true,
                        "in": "query",
                        "schema": { "type": "string" }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "StreamResponseOfPaginatorDto",
                                    "allOf": [
                                        { "$ref": "#/components/schemas/StreamModelDto" },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "IsLoading": { "type": "boolean" },
                                                "IsError": { "type": "boolean" },
                                                "Value": {
                                                    "type": "object",
                                                    "$ref": "#/components/schemas/PaginatorDto",
                                                    "properties": {
                                                        "Results": {
                                                            "type": "object",
                                                            "$ref": "#/components/schemas/PastTrainingsDto"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Past trainings"]
            }
        },
        "/training/past-trainings/{id}": {
            "get": {
                "operationId": "PastTrainingsController_getPastTraining",
                "parameters": [
                    { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "StreamResponseOfNewTrainingDto",
                                    "allOf": [
                                        { "$ref": "#/components/schemas/StreamModelDto" },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "IsLoading": { "type": "boolean" },
                                                "IsError": { "type": "boolean" },
                                                "Value": {
                                                    "type": "object",
                                                    "$ref": "#/components/schemas/NewTrainingDto",
                                                    "properties": {}
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Past trainings"]
            }
        },
        "/training/delete-training/{id}": {
            "delete": {
                "operationId": "DeleteTrainingActionController_deleteTraining",
                "parameters": [
                    { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/DeleteTrainingActionRequestDto"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "StreamResponseOfPastTrainingsDto",
                                    "allOf": [
                                        { "$ref": "#/components/schemas/StreamModelDto" },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "IsLoading": { "type": "boolean" },
                                                "IsError": { "type": "boolean" },
                                                "Value": {
                                                    "type": "object",
                                                    "$ref": "#/components/schemas/PastTrainingsDto",
                                                    "properties": {}
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Past trainings"]
            }
        },
        "/training/search-trainings": {
            "get": {
                "operationId": "SearchTrainingsController_searchTrainings",
                "parameters": [
                    {
                        "name": "page",
                        "required": true,
                        "in": "query",
                        "schema": { "type": "number" }
                    },
                    {
                        "name": "size",
                        "required": true,
                        "in": "query",
                        "schema": { "type": "number" }
                    },
                    {
                        "name": "searchValue",
                        "required": false,
                        "in": "query",
                        "schema": { "type": "string" }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "StreamResponseOfPaginatorDto",
                                    "allOf": [
                                        { "$ref": "#/components/schemas/StreamModelDto" },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "IsLoading": { "type": "boolean" },
                                                "IsError": { "type": "boolean" },
                                                "Value": {
                                                    "type": "object",
                                                    "$ref": "#/components/schemas/PaginatorDto",
                                                    "properties": {
                                                        "Results": {
                                                            "type": "object",
                                                            "$ref": "#/components/schemas/PastTrainingsDto"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Past trainings"]
            }
        },
        "/training/get-exercises": {
            "get": {
                "operationId": "GetExercisesController_getExercises",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "title": "StreamResponseOfExerciseDto",
                                    "allOf": [
                                        { "$ref": "#/components/schemas/StreamModelDto" },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "IsLoading": { "type": "boolean" },
                                                "IsError": { "type": "boolean" },
                                                "Value": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/components/schemas/ExerciseDto"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": { "description": "Unauthorized" },
                    "500": { "description": "Internal server error" }
                },
                "tags": ["Training"]
            }
        }
    },
    "info": {
        "title": "NestJS API",
        "description": "API of Bodybuilding Log app",
        "version": "1.0",
        "contact": {}
    },
    "tags": [],
    "servers": [],
    "components": {
        "schemas": {
            "SignupRequestDto": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "description": "Email entered by user during registration",
                        "example": "john.doe@gmail.com"
                    },
                    "password": {
                        "type": "string",
                        "description": "Password entered by user during registration",
                        "example": "Password@123"
                    },
                    "confirmPassword": {
                        "type": "string",
                        "description": "Password entered by user during registration",
                        "example": "Password@123"
                    },
                    "languageCode": {
                        "type": "string",
                        "description": "User's current language code preference"
                    },
                    "weightUnit": {
                        "type": "string",
                        "description": "User's current weight unit preference"
                    }
                },
                "required": ["email", "password", "confirmPassword", "languageCode", "weightUnit"]
            },
            "SignupResponseDto": {
                "type": "object",
                "properties": {
                    "Message": {
                        "type": "string",
                        "description": "Message returned by server upon successful authentication",
                        "example": "Authentication successful"
                    },
                    "Success": {
                        "type": "boolean",
                        "description": "Boolean indicating whether authentication was successful",
                        "example": true
                    }
                },
                "required": ["Message", "Success"]
            },
            "LoginRequestDto": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string",
                        "description": "The email address of the user",
                        "example": "john.doe@gmail.com"
                    },
                    "password": {
                        "type": "string",
                        "description": "The password of the user",
                        "example": "Password@123"
                    }
                },
                "required": ["email", "password"]
            },
            "LoginResponseDto": {
                "type": "object",
                "properties": {
                    "Message": {
                        "type": "string",
                        "description": "Message returned by server upon successful authentication",
                        "example": "Authentication successful"
                    },
                    "Success": {
                        "type": "boolean",
                        "description": "Boolean indicating whether authentication was successful",
                        "example": true
                    },
                    "Token": {
                        "type": "string",
                        "description": "Token returned upon successful login",
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAd"
                    },
                    "ExpiresIn": {
                        "type": "number",
                        "description": "Integer indicating token expiration",
                        "example": 10800
                    },
                    "_id": {
                        "type": "string",
                        "description": "Unique _id indicating authentication call",
                        "example": "62b431c1e8f98f07dcbc9d94"
                    }
                },
                "required": ["Message", "Success"]
            },
            "PreferencesDto": {
                "type": "object",
                "properties": {
                    "languageCode": {
                        "type": "string",
                        "description": "User's current language code preference"
                    },
                    "weightUnit": {
                        "type": "string",
                        "description": "User's current weight unit preference"
                    },
                    "showByPeriod": {
                        "type": "string",
                        "description": "User's current past trainings period preference"
                    },
                    "setDurationUnit": {
                        "type": "string",
                        "description": "User's current set duration unit preference"
                    },
                    "_id": { "type": "string" },
                    "userId": { "type": "string", "description": "Id of authenticated user" }
                },
                "required": ["languageCode", "weightUnit"]
            },
            "UpdatePreferencesDto": {
                "type": "object",
                "properties": {
                    "preferences": {
                        "description": "Preferences data",
                        "allOf": [{ "$ref": "#/components/schemas/PreferencesDto" }]
                    },
                    "preferenceChanged": {
                        "type": "string",
                        "description": "Type of preferences that changed"
                    }
                },
                "required": ["preferences", "preferenceChanged"]
            },
            "GeneralResponseDto": {
                "type": "object",
                "properties": {
                    "Message": {
                        "type": "string",
                        "description": "Message returned by server to client"
                    }
                },
                "required": ["Message"]
            },
            "ExerciseDto": {
                "type": "object",
                "properties": {
                    "name": { "type": "string" },
                    "imageUrl": { "type": "string" },
                    "primaryMuscleGroup": { "type": "string" },
                    "availableSetCategories": { "type": "array", "items": { "type": "string" } },
                    "selectedSetCategories": { "type": "array", "items": { "type": "string" } },
                    "_id": { "type": "string" }
                },
                "required": [
                    "name",
                    "imageUrl",
                    "primaryMuscleGroup",
                    "availableSetCategories",
                    "selectedSetCategories"
                ]
            },
            "SetDto": {
                "type": "object",
                "properties": {
                    "setNumber": { "type": "number", "description": "Set number" },
                    "weight": { "type": "number", "description": "Weight lifted" },
                    "reps": { "type": "number", "description": "Reps performed" },
                    "duration": { "type": "number", "description": "Set duration" },
                    "_id": { "type": "string" }
                },
                "required": ["setNumber"]
            },
            "SingleExerciseDto": {
                "type": "object",
                "properties": {
                    "exerciseData": { "$ref": "#/components/schemas/ExerciseDto" },
                    "sets": {
                        "description": "Exercise sets",
                        "type": "array",
                        "items": { "$ref": "#/components/schemas/SetDto" }
                    },
                    "total": { "type": "number" },
                    "availableExercises": { "$ref": "#/components/schemas/ExerciseDto" },
                    "_id": { "type": "string" }
                },
                "required": ["exerciseData", "sets", "total", "availableExercises"]
            },
            "NewTrainingPreferencesDto": {
                "type": "object",
                "properties": {
                    "weightUnit": {
                        "type": "string",
                        "description": "User's current weight unit preference"
                    },
                    "setDurationUnit": {
                        "type": "string",
                        "description": "User's current set duration unit preference"
                    }
                },
                "required": ["weightUnit"]
            },
            "NewTrainingDto": {
                "type": "object",
                "properties": {
                    "exercises": {
                        "description": "Training exercises data",
                        "type": "array",
                        "items": { "$ref": "#/components/schemas/SingleExerciseDto" }
                    },
                    "editMode": {
                        "type": "boolean",
                        "description": "Whether it's edit mode or not"
                    },
                    "trainingDate": {
                        "format": "date-time",
                        "type": "string",
                        "description": "Training date"
                    },
                    "userId": { "type": "string", "description": "Id of authenticated user" },
                    "preferences": {
                        "description": "Training preferences",
                        "allOf": [{ "$ref": "#/components/schemas/NewTrainingPreferencesDto" }]
                    },
                    "_id": { "type": "string" },
                    "bodyweight": { "type": "number", "description": "User's bodyweight" }
                },
                "required": ["exercises", "editMode", "trainingDate", "userId", "preferences"]
            },
            "StreamModelDto": {
                "type": "object",
                "properties": {
                    "IsLoading": {
                        "type": "boolean",
                        "description": "Property which indicates whether content is loading"
                    },
                    "IsError": {
                        "type": "boolean",
                        "description": "Property which indicates whether error happened"
                    }
                },
                "required": ["IsLoading", "IsError"]
            },
            "PaginatorParamsDto": {
                "type": "object",
                "properties": { "Page": { "type": "number" }, "Size": { "type": "number" } },
                "required": ["Page", "Size"]
            },
            "PaginatorDto": {
                "type": "object",
                "properties": {
                    "Next": { "$ref": "#/components/schemas/PaginatorParamsDto" },
                    "Previous": { "$ref": "#/components/schemas/PaginatorParamsDto" },
                    "CurrentPage": { "type": "number" },
                    "Size": { "type": "number" },
                    "TotalCount": { "type": "number" },
                    "TotalPages": { "type": "number" }
                },
                "required": ["CurrentPage", "Size", "TotalCount", "TotalPages"]
            },
            "DateIntervalDto": {
                "type": "object",
                "properties": {
                    "StartDate": { "format": "date-time", "type": "string" },
                    "EndDate": { "format": "date-time", "type": "string" }
                },
                "required": ["StartDate", "EndDate"]
            },
            "PastTrainingsDto": {
                "type": "object",
                "properties": {
                    "Trainings": { "$ref": "#/components/schemas/NewTrainingDto" },
                    "Dates": { "$ref": "#/components/schemas/DateIntervalDto" },
                    "IsPreviousWeek": { "type": "boolean" },
                    "IsNextWeek": { "type": "boolean" },
                    "EarliestTrainingDate": { "type": "string" },
                    "DayName": { "type": "string" },
                    "Message": { "type": "string" }
                },
                "required": ["Trainings", "Dates"]
            },
            "SearchDataDto": {
                "type": "object",
                "properties": {
                    "page": { "type": "number" },
                    "size": { "type": "number" },
                    "searchValue": { "type": "string" }
                },
                "required": ["page", "size"]
            },
            "DeleteTrainingMetaDto": {
                "type": "object",
                "properties": {
                    "searchData": { "$ref": "#/components/schemas/SearchDataDto" },
                    "currentDate": { "format": "date-time", "type": "string" }
                }
            },
            "DeleteTrainingActionRequestDto": {
                "type": "object",
                "properties": {
                    "deleteTrainingMeta": { "$ref": "#/components/schemas/DeleteTrainingMetaDto" }
                },
                "required": ["deleteTrainingMeta"]
            }
        }
    }
}
