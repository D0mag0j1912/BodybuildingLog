<!--TODO: ion-split-pane?-->
<ion-menu
    side="start"
    content-id="main">
    <ion-header>
        <ion-toolbar color="primary">
            <ion-title>{{ 'navigation.title' | translate }}</ion-title>
        </ion-toolbar>
    </ion-header>
    <ion-content>
        <ion-list>
            <ion-menu-toggle [autoHide]="false">
                <ion-item
                    *ngIf="!(isAuthenticated$ | async)"
                    lines="none"
                    routerLink="/auth/login"
                    routerDirection="forward"
                    (click)="onCloseSideNav()">
                    <ion-icon
                        slot="start"
                        name="log-in-sharp"
                        class="icon"></ion-icon>
                    <ion-label>{{ 'navigation.login' | translate }}</ion-label>
                </ion-item>
            </ion-menu-toggle>
            <ion-menu-toggle [autoHide]="false">
                <ion-item
                    *ngIf="!(isAuthenticated$ | async)"
                    lines="none"
                    routerLink="/auth/signup"
                    routerDirection="forward"
                    (click)="onCloseSideNav()">
                    <ion-icon
                        slot="start"
                        name="arrow-forward-sharp"
                        class="icon"></ion-icon>
                    <ion-label>{{ 'navigation.signup' | translate }}</ion-label>
                </ion-item>
            </ion-menu-toggle>
            <ion-menu-toggle [autoHide]="false">
                <ion-item
                    *ngIf="isAuthenticated$ | async"
                    lines="none"
                    routerLink="/training/new-training"
                    (click)="onCloseSideNav()">
                    <ion-icon
                        slot="start"
                        name="barbell-sharp"
                        class="icon"></ion-icon>
                    <ion-label>{{ 'navigation.new_training' | translate }}</ion-label>
                </ion-item>
            </ion-menu-toggle>
            <ion-menu-toggle [autoHide]="false">
                <ion-item
                    *ngIf="isAuthenticated$ | async"
                    lines="none"
                    (click)="goToPastTrainings(); onCloseSideNav();">
                    <ion-icon
                        slot="start"
                        name="analytics-sharp"
                        class="icon"></ion-icon>
                    <ion-label>{{ 'navigation.past_trainings' | translate }}</ion-label>
                </ion-item>
            </ion-menu-toggle>
            <ion-menu-toggle [autoHide]="false">
                <ion-item lines="none">
                    <ng-container *ngIf="(loggedUserData$ | async) as userData">
                        <a
                            *ngIf="isAuthenticated$ | async"
                            [matMenuTriggerFor]="languages">
                            <ion-icon
                                slot="start"
                                name="language-sharp"
                                class="icon"></ion-icon>
                            <span class="caption">
                                {{ 'navigation.language' | translate }}
                            </span>
                            <mat-menu #languages="matMenu">
                                <button
                                    mat-menu-item
                                    class="menu-item"
                                    [class.chosenLanguage]="userData?.Preferences?.language === 'hr'"
                                    [disabled]="userData?.Preferences?.language === 'hr'"
                                    (click)="changeLanguage('hr')">
                                    <img
                                        src="../../../../assets/images/flags/croatia.png"
                                        height="40"
                                        width="40">
                                    <span class="menu-item--text">
                                        {{ 'languages.croatian' | translate }}
                                    </span>
                                </button>
                                <button
                                    mat-menu-item
                                    class="menu-item"
                                    [class.chosenLanguage]="userData?.Preferences?.language === 'en'"
                                    [disabled]="userData?.Preferences?.language === 'en'"
                                    (click)="changeLanguage('en')">
                                    <img
                                        src="../../../../assets/images/flags/united-kingdom.png"
                                        height="24"
                                        width="40">
                                    <span class="menu-item--text">
                                        {{ 'languages.english' | translate }}
                                    </span>
                                </button>
                            </mat-menu>
                        </a>
                    </ng-container>
                </ion-item>
            </ion-menu-toggle>
            <ion-menu-toggle [autoHide]="false">
                <ion-item
                    *ngIf="isAuthenticated$ | async"
                    lines="none"
                    (click)="onCloseSideNav(); onLogout();">
                    <ion-icon
                        slot="start"
                        name="log-out-sharp"
                        class="icon"></ion-icon>
                    <ion-label>{{ 'navigation.logout' | translate }}</ion-label>
                </ion-item>
            </ion-menu-toggle>
        </ion-list>
    </ion-content>
</ion-menu>
