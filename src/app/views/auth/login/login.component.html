<ion-header>
    <ion-toolbar
        color="primary"
        class="toolbar-title">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>{{ 'navigation.login' | translate }}</ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <div class="wrapper">
        <form
            class="main-form"
            [formGroup]="form"
            (ngSubmit)="onSubmit()">
            <mat-form-field
                class="main-form-field"
                appearance="fill">
                <mat-label class="label">
                    {{ 'auth.email' | translate }}
                </mat-label>
                <input
                    matInput
                    type="email"
                    formControlName="email"
                    #emailRef>
                <mat-error
                    *ngIf="accessFormData('email').errors?.required"
                    class="error">
                    {{ 'auth.errors.email_required' | translate }}
                </mat-error>
                <mat-error
                    *ngIf="accessFormData('email').errors?.email
                        && !accessFormData('email').errors?.required"
                    class="error">
                    {{ 'auth.errors.invalid_email' | translate }}
                </mat-error>
            </mat-form-field>
            <mat-form-field
                class="main-form-field"
                appearance="fill">
                <mat-label class="label">
                    {{ 'auth.password' | translate }}
                </mat-label>
                <input
                    #inputPassword
                    matInput
                    type="password"
                    formControlName="password"
                    [errorStateMatcher]="formErrorStateMatcher">
                <mat-error
                    *ngIf="accessFormData('password').errors?.required"
                    class="error">
                    {{ 'auth.errors.password_required' | translate }}
                </mat-error>
                <mat-error
                    *ngIf="accessFormData('password').errors?.minlength
                        || accessFormData('password').errors?.maxlength"
                    class="error">
                    {{ 'auth.errors.password_length' | translate }}
                </mat-error>
                <mat-error
                    *ngIf="form.errors?.passwordFitsEmail
                        && !accessFormData('password').errors?.required
                        && !accessFormData('password').errors?.minlength
                        && !accessFormData('password').errors?.maxlength"
                    class="error">
                    {{ 'auth.errors.password_wrong_email' | translate }}
                </mat-error>
            </mat-form-field>
            <button
                mat-raised-button
                class="submit"
                type="submit"
                color="primary"
                [disabled]="!form.valid || isLoading"
                [class.button-spinner]="isLoading">
                {{ 'auth.login' | translate }}
            </button>
        </form>
        <span class="no_account_message">
            {{ 'auth.no_account_message' | translate }}
            <a
                class="no-account-link"
                routerLink="/auth/signup">
                {{ 'auth.signup_link' | translate }}
            </a>
            {{ 'common.here' | translate }}
        </span>
    </div>
</ion-content>

